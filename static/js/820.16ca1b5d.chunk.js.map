{"version":3,"file":"static/js/820.16ca1b5d.chunk.js","mappings":"8IA8BA,IA3BmB,SAAC,GAAe,IAAbA,EAAY,EAAZA,MACdC,GAAWC,EAAAA,EAAAA,MACXC,EAAgB,WAAO,IAAD,EAC1B,GAA6B,OAAzB,UAAAH,EAAMI,YAAN,eAAYC,UACd,MAAO,SAEV,CAJqB,GAKhBC,EAASN,EAAMM,OACrB,OACE,wBACGA,EAAOC,KAAI,SAAAC,GACV,OACE,2BACE,SAAC,KAAD,CACER,MAAO,CAAEI,KAAMH,GACfQ,GAAE,UAAKN,EAAeA,EAAeK,EAAME,GAAKF,EAAME,IAFxD,SAIGF,EAAMG,iBALX,MAASH,EAAME,GAUlB,KAGN,C,uJC5BD,IAAME,EAAU,mCAEHC,EAAuB,WAClC,MAAM,2DAAN,OAAkED,EACnE,EAEYE,EAAsB,SAAAC,GACjC,MAAM,qDAAN,OAA4DH,EAA5D,kBAA6EG,EAC9E,EAEYC,EAAmB,SAAAN,GAC9B,MAAM,sCAAN,OAA6CA,EAA7C,oBAA2DE,EAC5D,EAEYK,EAAkB,SAAAP,GAC7B,MAAM,sCAAN,OAA6CA,EAA7C,4BAAmEE,EACpE,EAEYM,EAAqB,SAAAR,GAChC,MAAM,sCAAN,OAA6CA,EAA7C,4BAAmEE,EAEpE,C,mICgCD,UA/Ce,WAAO,IAAD,EACnB,GAA4BO,EAAAA,EAAAA,UAAS,IAArC,eAAOb,EAAP,KAAec,EAAf,KAEMnB,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCmB,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAW,UAAGF,EAAaG,IAAI,gBAApB,QAAgC,GA8BjD,OAlBAC,EAAAA,EAAAA,YAAU,WACR,GAAoB,KAAhBF,EAAJ,CAGA,IAAMG,EAAkB,mCAAG,6GAEAC,EAAAA,EAAAA,KAAUd,EAAAA,EAAAA,IAAoBU,IAF9B,OAGc,KAD/BK,EAFiB,QAGVC,KAAKC,QAAQC,QACxBC,MAAM,qDAERb,EAAUS,EAASC,KAAKC,SAND,gDAQvBG,QAAQC,IAAR,MARuB,yDAAH,qDAWxBR,GAZC,CAaF,GAAE,CAACH,KAGF,iCACE,kBAAMY,SA9BgB,SAAAC,GAExB,GADAA,EAAIC,iBACwB,KAAxBD,EAAIE,OAAO,GAAGC,MAEhB,OADAP,MAAM,4BACCV,EAAgB,CAAC,GAE1BA,EAAgB,CAAER,MAAOsB,EAAIE,OAAO,GAAGC,OAExC,EAsBG,WACE,kBAAOC,KAAK,OAAOC,aAAclB,KACjC,mBAAQiB,KAAK,SAAb,wBAEF,SAAC,IAAD,CAAYzC,MAAO,CAAEM,OAAAA,EAAQF,KAAMH,OAGxC,C","sources":["components/MoviesList/MoviesList.js","moviesApi.js","pages/Movies/Movies.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ state }) => {\n  const location = useLocation();\n  const locationFrom = (() => {\n    if (state.from?.pathname === '/') {\n      return 'movies/';\n    }\n  })();\n  const movies = state.movies;\n  return (\n    <ul>\n      {movies.map(movie => {\n        return (\n          <li key={movie.id}>\n            <Link\n              state={{ from: location }}\n              to={`${locationFrom ? locationFrom + movie.id : movie.id}`}\n            >\n              {movie.original_title}\n            </Link>\n            ;\n          </li>\n        );\n      })}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n\nMoviesList.propTypes = {\n  from: PropTypes.shape({ pathname: PropTypes.string.isRequired }),\n  movies: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  }),)\n};\n","const API_KEY = 'ba0ad73f76c4f815c78bb333b0b1b2be';\n\nexport const getTrendingMoviesUrl = () => {\n  return `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`;\n};\n\nexport const getMoviesByQueryUrl = query => {\n  return `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`;\n};\n\nexport const getMoviesByIdUrl = id => {\n  return `https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}`;\n};\n\nexport const getMovieCastUrl = id => {\n  return `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${API_KEY}`;\n};\n\nexport const getMovieReviewsUrl = id => {\n  return `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${API_KEY}`;\n\n};\n","import axios from 'axios';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { getMoviesByQueryUrl } from 'moviesApi';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n\n  const location = useLocation();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n  const queryString = searchParams.get('query') ?? '';\n\n  const updateQueryString = evt => {\n    evt.preventDefault();\n    if (evt.target[0].value === '') {\n      alert('please enter your query ');\n      return setSearchParams({});\n    }\n    setSearchParams({ query: evt.target[0].value });\n\n  };\n\n  useEffect(() => {\n    if (queryString === '') {\n      return;\n    }\n    const fetchMoviesByQuery = async () => {\n      try {\n        const response = await axios.get(getMoviesByQueryUrl(queryString));\n        if (response.data.results.length === 0) {\n          alert('Please check your query, beacause we find nothing');\n        }\n        setMovies(response.data.results);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    fetchMoviesByQuery();\n  }, [queryString]);\n\n  return (\n    <>\n      <form onSubmit={updateQueryString}>\n        <input type=\"text\" defaultValue={queryString} />\n        <button type=\"submit\">Search</button>\n      </form>\n      <MoviesList state={{ movies, from: location }} />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["state","location","useLocation","locationFrom","from","pathname","movies","map","movie","to","id","original_title","API_KEY","getTrendingMoviesUrl","getMoviesByQueryUrl","query","getMoviesByIdUrl","getMovieCastUrl","getMovieReviewsUrl","useState","setMovies","useSearchParams","searchParams","setSearchParams","queryString","get","useEffect","fetchMoviesByQuery","axios","response","data","results","length","alert","console","log","onSubmit","evt","preventDefault","target","value","type","defaultValue"],"sourceRoot":""}